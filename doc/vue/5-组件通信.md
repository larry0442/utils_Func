## vue中的各种组件通信
1. props / $emit
2. $children / $parent
3. provide / inject
4. ref 
5. eventBus
6. vuex
7. localStorage / sessionStorage
8. $arrts / $listeners
### 1 - props / $emit
> 总结: prop 只可以从上一级组件传递到下一级组件（父子组件），即所谓的**单向数据流**。而且 props 只读，不可被修改，所有修改都会失效并警告。
  ```vue
    // 父组件
    <template>
      <Child
        :message="父组件传给子组件的prop"
        :prop2="props2"
        @onEmit="onhandleChild"
        />
    </template>
    <script>
        import Child form './child.vue';

        export default {
          name: 'Parent',
          components: {
            Child,
          }

          methods: {
            // 子组件传回信息是做的事件处理
            onHandleChild(data) {
              // 处理子组件传回来的数据
            }
          }
        }
      </script>

```
```vue
    // 子组件
    <template>
    ...
    </template>
    <script>
      export default {
        name: 'Child',
        // 在这里接受props定义以及设置初始值
        props: {
          object: {
            type: 'Object',
            default: ()=>{
              return {};
            }
          }
        }
        methods: {
          onHandle() {
            // 子组件向父组件传参
            this.$emit('onEmit',data);
          }
        }
      }
    </script>
  ```
### 2-$parent和$children
> 通过$parent和$children就可以访问组件的实例，拿到实例代表什么？代表可以访问此组件的所有方法（methods）和data里面的数据。

使用举例如下：  
**父组件** 
```vue
 //
  <template>
    <div>{{ msg }}
    <Child />
    <button @click="change">改变子组件message</button>
  </template>
  <script>
    import Child from './child';

    export default {
      name: 'Parent',
      data(){
        return {
          msg: '这是父组件中的msg'
        }
      },
      methods: {
        // 这里改变子组件的值
        change() {
          this.$children[0].message = '在这里改变了子组件的值';
        }
      }
    } 
  </script>
```
**子组件**
```vue
 //父组件 
  <template>
    <div>
      <div>{{ message }}
      <div>{{ tmp }}</div>
      <button @click="getParentMsg" >点击获取父组件的msg</button>
    <div>
  </template>
  <script>
    export default {
      name: 'Child',
      data(){
        return {
          msg: '这是子组件中的message',
          tmp: '还没获取到父组件的值'，
        }
      },
      methods: {
        getParentMsg(){
          // 这里可以点击获取父组件的msg
          return this.$parent.msg;
        }
      }
    } 
  </script>
```